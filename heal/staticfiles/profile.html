{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="d-sm-flex justify-content-between align-items-center mb-4">
    <h3 class="text-dark mb-0" style="margin-top: 20px;margin-left: 10px;">Patient Dashboard</h3>
    <div class="dropdown"><button class="btn btn-primary dropdown-toggle" aria-expanded="false" data-toggle="dropdown" type="button" style="margin-right: 10px;margin-top: 20px;">Menu</button>
        <div class="dropdown-menu"><a class="dropdown-item" href="{% url 'home'%}">Dashboard</a><a class="dropdown-item" href="{% url 'wallet'%}">Wallet</a><a class="dropdown-item" href="{% url 'activity'%}">Activity</a><a class="dropdown-item" href="{% url 'leaderboard'%}">Leaderboard</a></div>
    </div>
</div>
<div class="row mb-3">
    <div class="col-lg-4">
        <div class="card mb-3">
            <div class="card-body text-center shadow"><img class="rounded-circle mb-3 mt-4" src="{% static 'assets/images/admin.png'%}" width="160" height="160">
                <div class="mb-3"><button class="btn btn-primary btn-sm" type="button">{{user.first_name}} {{user.last_name}}</button></div>
            </div>
        </div>
        <div class="card shadow mb-3">
            <div class="card-header py-3">
                <p class="text-primary m-0 font-weight-bold">Patient Details</p>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table">
                        <tbody>
                            <tr>
                                <th style="background: var(--white);">Age</th>
                                <th style="background: var(--white);">{{data.umur}}</th>
                            </tr>
                            <tr>
                                <td style="background: var(--white);">Height</td>
                                <td style="background: var(--white);">{{data.tb}}</td>
                            </tr>
                            <tr>
                                <td style="background: var(--white);">Weight</td>
                                <td style="background: var(--white);">{{data.bb}}</td>
                            </tr>
                            <tr >
                                <td style="background: var(--white);">Disease</td>
                                <td style="background: var(--white);">{{disease}}</td>
                            </tr>
                            <tr >
                                <td style="background: var(--white);">Patient Status</td>
                                <td style="background: var(--white);">{{status}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <a href="https://accounts.google.com/signin/v2/identifier?continue=https%3A%2F%2Fdevelopers.google.com%2F_d%2Freturn%3Fcontinue%3Dhttps%253A%252F%252Fdevelopers.google.com%252Ffit&flowName=GlifWebSignIn&flowEntry=ServiceLogin" class="btn btn-primary" role="button" style="margin-bottom: 20px;" target="_blank">CONNECT TO GOOGLE FIT</a>
                </div>
            </div>
        </div>
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="text-primary font-weight-bold m-0">Goal Progress</h6>
            </div>
            <div class="card-body">
                <h4 class="small font-weight-bold">Number of Steps<span class="float-right">35%</span></h4>
                <div class="progress progress-sm mb-3">
                    <div class="progress-bar bg-danger" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 35%;"><span class="sr-only"></span></div>
                </div>
                <h4 class="small font-weight-bold">Time Sleep<span class="float-right">40%</span></h4>
                <div class="progress progress-sm mb-3">
                    <div class="progress-bar bg-warning" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%;"><span class="sr-only"></span></div>
                </div>
                <h4 class="small font-weight-bold">Exercise<span class="float-right">60%</span></h4>
                <div class="progress progress-sm mb-3">
                    <div class="progress-bar bg-primary" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"><span class="sr-only"></span></div>
                </div>
                <h4 class="small font-weight-bold">Calories<span class="float-right">80%</span></h4>
                <div class="progress progress-sm mb-3">
                    <div class="progress-bar bg-info" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%;"><span class="sr-only"></span></div>
                </div>
                <h4 class="small font-weight-bold">Nutritional intake<span class="float-right">Complete!</span></h4>
                <div class="progress progress-sm mb-3">
                    <div class="progress-bar bg-success" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"><span class="sr-only"></span></div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-8">
        <div class="row mb-3">
            <div class="col-lg-4">
                <div class="card text-white bg-primary shadow">
                    <div class="card-body">
                        <div class="row mb-2">
                            <div class="col">
                                <p class="m-0">Coin Achieved</p>
                                <p class="m-0"><strong>{{coin}}</strong></p>
                            </div>
                            <div class="col-auto"><i class="fab fa-bitcoin fa-2x"></i></div>
                        </div>
                        <p class="text-white-60 small m-0"><i class="fas fa-arrow-up"></i>&nbsp;7% since last month</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card text-white bg-info shadow">
                    <div class="card-body">
                        <div class="row mb-2">
                            <div class="col">
                                <p class="m-0">Heart Point</p>
                                <p class="m-0"><strong>{{heartpoint}}</strong></p>
                            </div>
                            <div class="col-auto"><i class="fas fa-heart fa-2x"></i></div>
                        </div>
                        <p class="text-white-60 small m-0"><i class="fas fa-arrow-up"></i>&nbsp;10% since last month</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card text-white bg-success shadow">
                    <div class="card-body">
                        <div class="row mb-2">
                            <div class="col">
                                <p class="m-0">Leaderboard Score</p>
                                <p class="m-0"><strong>{{score}}</strong></p>
                            </div>
                            <div class="col-auto"><i class="fas fa-rocket fa-2x"></i></div>
                        </div>
                        <p class="text-white-60 small m-0"><i class="fas fa-arrow-up"></i>&nbsp;5% since last month</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="card shadow mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h6 class="text-primary font-weight-bold m-0">Activity Highlight</h6>
                        <div class="dropdown no-arrow"><button class="btn btn-link btn-sm dropdown-toggle" aria-expanded="false" data-toggle="dropdown" type="button"><i class="fas fa-ellipsis-v text-gray-400"></i></button>
                            <div class="dropdown-menu shadow dropdown-menu-right animated--fade-in">
                                <p class="text-center dropdown-header">dropdown header:</p><a class="dropdown-item" href="#">&nbsp;Action</a><a class="dropdown-item" href="#">&nbsp;Another action</a>
                                <div class="dropdown-divider"></div><a class="dropdown-item" href="#">&nbsp;Something else here</a>
                            </div>
                        </div>
                    </div>
                    <div id="bar-container"></div>
                    <script src="https://code.highcharts.com/highcharts.src.js"></script>
                    <script>
                    Highcharts.chart('bar-container', {
                        title: {
                            text: 'Number of Steps Taken and Calories Burn'
                        },
                        xAxis: {
                            categories: {{date | safe}}
                        },
                        series: [{
                            type: 'column',
                            name: 'Steps taken',
                            data: {{step}},
                            color: 'teal'
                        }, {
                            type: 'column',
                            name: 'Calorie Burn',
                            data: {{calorie}},
                            color: 'orange'
                        }],
                    });
                    </script>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-5 col-xl-4">
                <div class="card shadow mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h6 class="text-primary font-weight-bold m-0">Sports</h6>
                        <div class="dropdown no-arrow"><button class="btn btn-link btn-sm dropdown-toggle" aria-expanded="false" data-toggle="dropdown" type="button"><i class="fas fa-ellipsis-v text-gray-400"></i></button>
                            <div class="dropdown-menu shadow dropdown-menu-right animated--fade-in">
                                <p class="text-center dropdown-header">dropdown header:</p><a class="dropdown-item" href="#">&nbsp;Action</a><a class="dropdown-item" href="#">&nbsp;Another action</a>
                                <div class="dropdown-divider"></div><a class="dropdown-item" href="#">&nbsp;Something else here</a>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="chart-area"><canvas data-bss-chart="{&quot;type&quot;:&quot;doughnut&quot;,&quot;data&quot;:{&quot;labels&quot;:[&quot;BasketBall&quot;,&quot;CrossFit&quot;,&quot;MixedCardio&quot;],&quot;datasets&quot;:[{&quot;label&quot;:&quot;&quot;,&quot;backgroundColor&quot;:[&quot;#4e73df&quot;,&quot;#1cc88a&quot;,&quot;#36b9cc&quot;],&quot;borderColor&quot;:[&quot;#ffffff&quot;,&quot;#ffffff&quot;,&quot;#ffffff&quot;],&quot;data&quot;:[&quot;{{basketball}}&quot;,&quot;{{crossfit}}&quot;,&quot;{{mixedcardio}}&quot;]}]},&quot;options&quot;:{&quot;maintainAspectRatio&quot;:false,&quot;legend&quot;:{&quot;display&quot;:false},&quot;title&quot;:{}}}"></canvas></div>
                        <div class="text-center small mt-4">
                            <span class="mr-2"><i class="fas fa-circle text-primary"></i>BasketBall</span>
                            <span class="mr-2"><i class="fas fa-circle text-success"></i>&nbsp;Cross Fit</span>
                            <span class="mr-2"><i class="fas fa-circle text-info"></i>&nbsp;Mixed Cardio</span></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-7 col-xl-8">
                <div class="card shadow mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h6 class="text-primary font-weight-bold m-0">Exercise and Cycling</h6>
                        <div class="dropdown no-arrow"><button class="btn btn-link btn-sm dropdown-toggle" aria-expanded="false" data-toggle="dropdown" type="button"><i class="fas fa-ellipsis-v text-gray-400"></i></button>
                            <div class="dropdown-menu shadow dropdown-menu-right animated--fade-in">
                                <p class="text-center dropdown-header">dropdown header:</p><a class="dropdown-item" href="#">&nbsp;Action</a><a class="dropdown-item" href="#">&nbsp;Another action</a>
                                <div class="dropdown-divider"></div><a class="dropdown-item" href="#">&nbsp;Something else here</a>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="area-container"></div>
                        <script src="https://code.highcharts.com/highcharts.src.js"></script>
                        <script>
                            Highcharts.chart('area-container', {
                                type: 'area',
                                title: {
                                    text: 'Time Taken for Exercise and Cycling (minutes)'
                                },
                                xAxis: {
                                    categories: {{date2 | safe}}
                                },
                                series: [{
                                    name: 'Cycling',
                                    data: {{cycling}},
                                }, {
                                    name: 'Exercise',
                                    data: {{exercise}},
                                }],
                            });
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



{% endblock %}